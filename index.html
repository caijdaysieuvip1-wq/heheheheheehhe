<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Happy New Year 2026</title>

<style>
*{margin:0;padding:0;box-sizing:border-box}
html,body{
  width:100%;
  height:100%;
  overflow:hidden;
  font-family:Arial, Helvetica, sans-serif;
}

/* ===== DỌC ===== */
.rotate{
  position:fixed;
  inset:0;
  background:#000;
  color:#fff;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  text-align:center;
  z-index:10;
}
.rotate video{
  width:180px;
  margin-top:20px;
}

/* ===== NGANG ===== */
.main{
  position:fixed;
  inset:0;
  display:none;
  justify-content:center;
  align-items:center;
}
.bg-video{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  object-fit:cover;
  z-index:-1;
}
.main h1{
  color:#fff;
  font-size:clamp(22px,4vw,42px);
  letter-spacing:3px;
  text-shadow:0 0 15px rgba(0,0,0,.7);
}

/* ===== XOAY NGANG ===== */
@media (orientation: landscape){
  .rotate{display:none}
  .main{display:flex}
}
</style>
</head>

<body>

<!-- DỌC -->
<div class="rotate">
  <div>Vui lòng xoay ngang màn hình</div>
  <video id="rotateVideo" muted playsinline preload="auto">
    <source src="cute.mp4" type="video/mp4">
  </video>
</div>

<!-- NGANG -->
<div class="main">
  <video id="bgVideo" class="bg-video" muted playsinline preload="auto">
    <source src="BeautyPlus-video-enhancer-preview-1770091865238.jpg.mp4" type="video/mp4">
  </video>
  <h1>HAPPY NEW YEAR 2026</h1>
</div>

<script>
const bgVideo = document.getElementById('bgVideo');
const rotateVideo = document.getElementById('rotateVideo');

function playSafe(video){
  if(!video) return;
  video.currentTime = 0;
  video.play().catch(()=>{});
}

function checkOrientation(){
  if(window.matchMedia("(orientation: portrait)").matches){
    // đang dọc
    bgVideo.pause();
    playSafe(rotateVideo);
  }else{
    // đang ngang
    rotateVideo.pause();
    playSafe(bgVideo);
  }
}

// khi load
window.addEventListener('load', checkOrientation);

// khi xoay máy
window.addEventListener('orientationchange', () => {
  setTimeout(checkOrientation, 300);
});

// tương tác người dùng (mobile bắt buộc)
document.body.addEventListener('touchstart', checkOrientation, { once:true });
document.body.addEventListener('click', checkOrientation, { once:true });

// ép loop cho cả 2
[bgVideo, rotateVideo].forEach(v=>{
  v.addEventListener('ended', ()=>playSafe(v));
});
</script>

</body>
</html>window.addEventListener('load',()=>{
  forceInfinite(document.getElementById('bgVideo'));
  forceInfinite(document.getElementById('rotateVideo'));
});
</script>

</body>
</html>
